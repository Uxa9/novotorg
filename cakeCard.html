<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Картошка</title>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/card.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="css/cakeCard.css">
    <link rel="stylesheet" href="css/splide/splide.min.css">
    <script src="https://kit.fontawesome.com/86224789ba.js" crossorigin="anonymous"></script>
</head>
<body>
    <div class="wrapper">
        <!-- header -->
        <main class="card-content">
            <ol class="breadscrumbs">
                <li>
                    <a href="">Главная</a>
                </li>
                <li>
                    <a href="">Каталог</a>
                </li>
                <li>
                    <a href="">Торты</a>
                </li>
                <li>
                    <a href="">Фруктовые</a>
                </li>
                <li>
                    <a href="">Банановое румбо</a>
                </li>
            </ol>
            <div class="card-info">
                <div class="card-info-images">
                    <div id="thumbnail-slider" class="splide">
                        <div class="splide__track">
                            <ul class="splide__list">
                                <li class="splide__slide">
                                    <img src="images/cakeExampleBig.png">
                                </li>
                                <li class="splide__slide">
                                    <img src="images/cakeExample2.png">
                                </li>
                                <li class="splide__slide">
                                    <img src="images/cakeExampleBig.png">
                                </li>
                                <li class="splide__slide">
                                    <img src="images/cakeExample2.png">
                                </li>
                                <li class="splide__slide">
                                    <img src="images/cakeExampleBig.png">
                                </li>
                                <li class="splide__slide">
                                    <img src="images/cakeExample2.png">
                                </li>
                                <li class="splide__slide">
                                    <img src="images/cakeExampleBig.png">
                                </li>
                                <li class="splide__slide">
                                    <img src="images/cakeExample2.png">
                                </li>
                                <li class="splide__slide">
                                    <img src="images/cakeExampleBig.png">
                                </li>
                            </ul>
                        </div>
                    </div>
                    <!-- смотрэ, тут картинки должны дублироваться -->
                    <div id="main-slider" class="splide">
                        <div class="splide__track">
                            <ul class="splide__list">
                                <li class="splide__slide">
                                    <img src="images/cakeExampleBig.png">
                                </li>
                                <li class="splide__slide">
                                    <img src="images/cakeExample2.png">
                                </li>
                                <li class="splide__slide">
                                    <img src="images/cakeExampleBig.png">
                                </li>
                                <li class="splide__slide">
                                    <img src="images/cakeExample2.png">
                                </li>
                                <li class="splide__slide">
                                    <img src="images/cakeExampleBig.png">
                                </li>
                                <li class="splide__slide">
                                    <img src="images/cakeExample2.png">
                                </li>
                                <li class="splide__slide">
                                    <img src="images/cakeExampleBig.png">
                                </li>
                                <li class="splide__slide">
                                    <img src="images/cakeExample2.png">
                                </li>
                                <li class="splide__slide">
                                    <img src="images/cakeExampleBig.png">
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <article class="card-info-text">
                    <header>
                        <h2>Торт «Банановое румбо»</h2>
                        <div class="rating-and-info">
                            <div class="rating">
                                <i class="fa-solid fa-star selected"></i>
                                <i class="fa-solid fa-star selected"></i>
                                <i class="fa-solid fa-star"></i>
                                <i class="fa-solid fa-star"></i>
                                <i class="fa-solid fa-star"></i>
                            </div>
                            <div class="info">
                                <span>
                                    4 отзыва <!-- -вов -->
                                </span>
                            </div>
                        </div>
                    </header>
                    <main>
                        <p class="description">
                            Желтый сдобный бисквит с банановым сиропом и 
                            сметанным суфле. Декорирован гляссажем, 
                            кремом из сливок и шоколадной глазурью
                        </p>
                        <div class="cake-stats">
                            <div class="weight">
                                <span>Вес:&nbsp</span>
                                <span>900 г</span>
                            </div>
                            <div class="expire-date">
                                <span>Срок годности:&nbsp</span>
                                <span>228 часов</span>
                            </div>
                            <div class="temp">
                                <span>Температура хранения:&nbsp</span>
                                <span>от +2°С до +6°С</span>
                            </div>
                        </div>
                        <p class="price">
                            582 ₽
                        </p>
                        <form action="" class="buy-and-amount">
                            <input class="button buy-button" type="submit" value="Купить" >
                            <div class="amount">
                                <div class="amount-button minus" id="decreasePieces"></div>
                                <input type="number" id="piecesAmount" value="1" disabled/>
                                <div class="amount-button plus" id="increasePieces"></div>
                            </div>
                        </form>
                    </main>
                </article>
            </div>
            <div class="card-reviews">
                <h3>Отзывы</h3>
                <form action="" class="review-field">
                    <textarea name="" id="userReview" placeholder="Ваш отзыв"></textarea>
                    <div class="buttons-wrapper">
                        <button id="clearButton">
                            Очистить
                        </button>
                        <input class="button" value="Отправить" type="submit">
                    </div>
                    <div class="review-stars">
                        <p>Оцените товар</p>
                        <div class="review-rating">
                            <i class="fa-solid fa-star"></i>
                            <i class="fa-solid fa-star"></i>
                            <i class="fa-solid fa-star"></i>
                            <i class="fa-solid fa-star"></i>
                            <i class="fa-solid fa-star"></i>
                        </div>
                        <input type="number" id="userRating">
                    </div>
                </form>
            </div>
            <div class="users-reviews">
                <article class="review">
                    <header>
                        <span class="user-name">
                            Наталья Иванова
                        </span>
                        <div class="review-rating">
                            <span class="review-date">28 мая 2021</span>
                            <div class="rating">
                                <i class="fa-solid fa-star selected"></i>
                                <i class="fa-solid fa-star selected"></i>
                                <i class="fa-solid fa-star selected"></i>
                                <i class="fa-solid fa-star selected"></i>
                                <i class="fa-solid fa-star selected"></i>
                            </div>
                        </div>
                    </header>
                    <main>
                        <div class="review-text">
                            <p>
                                Желтый сдобный бисквит с банановым сиропом и сметанным суфле. 
                                Декорирован гляссажем, кремом из сливок и шоколадной глазурью 
                                сдобный бисквит с банановым сиропом и сметанным суфле. 
                                Декорирован гляссажем, кремом из сливок и шоколадной глазурью.
                            </p>
                        </div>
                        <div class="review-response">
                            <span class="response-author">
                                Администрация
                            </span>
                            <p>
                                Благодарим за отзыв!
                            </p>
                        </div>
                    </main>
                </article>
                <article class="review">
                    <header>
                        <span class="user-name">
                            Жмых Пожилой
                        </span>
                        <div class="review-rating">
                            <span class="review-date">22 августа 1488</span>
                            <div class="rating">
                                <i class="fa-solid fa-star selected"></i>
                                <i class="fa-solid fa-star selected"></i>
                                <i class="fa-solid fa-star"></i>
                                <i class="fa-solid fa-star"></i>
                                <i class="fa-solid fa-star"></i>
                            </div>
                        </div>
                    </header>
                    <main>
                        <div class="review-text">
                            <p>
                                Торт ваш пооооолная хуйня!
                            </p>
                        </div>
                        <div class="review-response">
                            <span class="response-author">
                                Пенис Детров
                            </span>
                            <p>
                                Дед, ты заебал уже всех
                            </p>
                        </div>
                    </main>
                </article>
                <button class="load-reviews">
                    Больше отзывов
                </button>
            </div>
            <section class="recommended-cakes">
                <header>
                    <h3>
                        Рекомендуем попробовать
                    </h3>
                </header>
                <div class="recommended-cakes-list">
                    <article class="cake-card">
                        <div class="cake-card-image">
                            <img src="images/cakeExample.png" alt="торт">
                        </div>
                        <header class="cake-card-name">
                            Торт «Банановое румбо»
                        </header>
                        <p class="cake-card-price">
                            582 ₽
                        </p>
                        <footer class="cake-card-weight">
                            228 г
                        </footer>
                        <a href="" class="button cake-card-buy-button">
                            Купить
                        </a>
                    </article>
                    <article class="cake-card">
                        <div class="cake-card-image">
                            <img src="images/cakeExample.png" alt="торт">
                        </div>
                        <header class="cake-card-name">
                            Торт «Банановое румбо»
                        </header>
                        <p class="cake-card-price">
                            582 ₽
                        </p>
                        <footer class="cake-card-weight">
                            228 г
                        </footer>
                        <a href="" class="button cake-card-buy-button">
                            Купить
                        </a>
                    </article>
                    <article class="cake-card">
                        <div class="cake-card-image">
                            <img src="images/cakeExample.png" alt="торт">
                        </div>
                        <header class="cake-card-name">
                            Торт «Банановое румбо»
                        </header>
                        <p class="cake-card-price">
                            582 ₽
                        </p>
                        <footer class="cake-card-weight">
                            228 г
                        </footer>
                        <a href="" class="button cake-card-buy-button">
                            Купить
                        </a>
                    </article>
                    <article class="cake-card">
                        <div class="cake-card-image">
                            <img src="images/cakeExample.png" alt="торт">
                        </div>
                        <header class="cake-card-name">
                            Торт «Банановое румбо»
                        </header>
                        <p class="cake-card-price">
                            582 ₽
                        </p>
                        <footer class="cake-card-weight">
                            228 г
                        </footer>
                        <a href="" class="button cake-card-buy-button">
                            Купить
                        </a>
                    </article>
                </div>
            </section>
        </main>
        <!-- footer -->
    </div>

    <script src="js/splide/splide.min.js"></script>
    <script>
        document.addEventListener( 'DOMContentLoaded', function () {
            var main = new Splide( '#main-slider', {
                type      : 'fade',
                fixedWidth : 562,
                fixedHeight: 562,
                rewind    : true,
                pagination: false,
                arrows    : false,
                cover     : true,
            });

            var thumbnails = new Splide( '#thumbnail-slider', {
                fixedWidth  : 95,
                fixedHeight : 95,
                gap         : 10,
                rewind      : true,
                pagination  : false,
                cover       : true,
                isNavigation: true,
                perMove     : 1,
                perPage     : 5,
                direction   : 'ttb',
                height      : '502px',
                wheel       : true,
                releaseWheel: true,
                trimSpace   : 'move',
            });

            main.sync( thumbnails );
            main.mount();
            thumbnails.mount();
        });
    </script>
    <script>
        //clear user review
        let clearButton = document.getElementById('clearButton');
        clearButton.onclick = (e) => {
            e.preventDefault();
            e.stopPropagation();
            document.getElementById('userReview').value = '';
        }

        //user rating
        let starsRatingWrapper = document.querySelector('.review-rating');
        let starsRating = starsRatingWrapper.querySelectorAll('i');

        starsRating.forEach((star, index) => {
            star.onmouseover = (e) => {
                for (i = 0; i <= index; i++) {
                    if (!starsRating[i].classList.contains('starring')) {
                        starsRating[i].classList.add('starring');
                    }
                }
                for (i = index+1; i < 5; i++) {
                    if (starsRating[i].classList.contains('starring')) {
                        starsRating[i].classList.remove('starring');
                    }
                }
            }

            star.onclick = (e) => {
                for (i = 0; i <= index; i++) {
                    if (!starsRating[i].classList.contains('selected')) {
                        starsRating[i].classList.add('selected');
                    }
                }
                for (i = index+1; i < 5; i++) {
                    if (starsRating[i].classList.contains('selected')) {
                        starsRating[i].classList.remove('selected');
                    }
                }

                document.getElementById('userRating').value = index;
            }

            //increase / decrease amount of pieces
            let piecesAmount = document.getElementById('piecesAmount');
            let increase = document.getElementById('increasePieces');
            let decrease = document.getElementById('decreasePieces');

            increase.onclick = () => piecesAmount.value = Number(piecesAmount.value) + 1;
            decrease.onclick = () => (piecesAmount.value != 1) && (piecesAmount.value = Number(piecesAmount.value) - 1);
        });
    </script>
</body>
</html>