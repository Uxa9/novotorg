<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Корзина</title>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="css/cart.css">
</head>
<body>
    <div class="wrapper">
        <!-- header -->
        <main class="catalog-content">
            <div class="popup-wrapper">
                <div class="popup">
                    <p>
                        Очистить корзину
                    </p>
                    <p>
                        Вы точно хотите удалить все товары? 
                        Отменить действие будет невозможно
                    </p>
                    <div>
                        <button class="button">
                            Отменить
                        </button>
                        <button class="button">
                            Да, удалить
                        </button>
                    </div>
                    <div class="cross" id="closePopup"></div>
                </div>
            </div>
            <form action="">
                <div class="cart-header">
                    <h1>Корзина</h1>
                    <span id="clearCart">Очистить корзину</span>
                </div>
                <div class="cart-wrapper">
                    <div class="cart-list">
                        <div class="cart-item">
                            <div class="cart-item-head">
                                <img src="images/cartCakeExample.png" alt="">
                                <div class="cart-item-name">
                                    <p>
                                        Торт "Абоб"
                                    </p>
                                    <p>
                                        228 г
                                    </p>
                                </div>
                            </div>
                            <div class="cart-item-meta">
                                <form action="" class="amount">
                                    <div class="amount">
                                        <div class="amount-button minus" id=""></div>
                                        <input class="piece-amount" type="number" id="" value="1" disabled/>
                                        <div class="amount-button plus" id=""></div>
                                    </div>
                                </form>
                                <div class="cart-item-total-price">
                                    <p class="cart-item-price">
                                        1 488 ₽
                                    </p>
                                    <p class="cart-item-piece-price">
                                        638 ₽/шт.
                                    </p>
                                </div>
                                <div class="delete-item">
                                    <img src="images/trashCan.svg" alt="">
                                </div>
                            </div>
                        </div>
                        <div class="cart-item">
                            <div class="cart-item-head">
                                <img src="images/cartCakeExample.png" alt="">
                                <div class="cart-item-name">
                                    <p>
                                        Торт "Абоб"
                                    </p>
                                    <p>
                                        228 г
                                    </p>
                                </div>
                            </div>
                            <div class="cart-item-meta">
                                <form action="" class="amount">
                                    <div class="amount">
                                        <div class="amount-button minus" id=""></div>
                                        <input class="piece-amount" type="number" id="" value="1" disabled/>
                                        <div class="amount-button plus" id=""></div>
                                    </div>
                                </form>
                                <div class="cart-item-total-price">
                                    <p class="cart-item-price">
                                        1 488 ₽
                                    </p>
                                    <p class="cart-item-piece-price">
                                        638 ₽/шт.
                                    </p>
                                </div>
                                <div class="delete-item">
                                    <img src="images/trashCan.svg" alt="">
                                </div>
                            </div>
                        </div>
                        <div class="cart-item">
                            <div class="cart-item-head">
                                <img src="images/cartCakeExample.png" alt="">
                                <div class="cart-item-name">
                                    <p>
                                        Торт "Абоб"
                                    </p>
                                    <p>
                                        228 г
                                    </p>
                                </div>
                            </div>
                            <div class="cart-item-meta">
                                <form action="" class="amount">
                                    <div class="amount">
                                        <div class="amount-button minus" id=""></div>
                                        <input class="piece-amount" type="number" id="" value="1" disabled/>
                                        <div class="amount-button plus" id=""></div>
                                    </div>
                                </form>
                                <div class="cart-item-total-price">
                                    <p class="cart-item-price">
                                        1 488 ₽
                                    </p>
                                    <p class="cart-item-piece-price">
                                        638 ₽/шт.
                                    </p>
                                </div>
                                <div class="delete-item">
                                    <img src="images/trashCan.svg" alt="">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="cart-price">
                        <div>
                            <p>Итого: 3 товара на 1 360 ₽ </p>
                            <p>Общий вес: 3 600 кг</p>
                        </div>
                        <input type="submit" value="Оформить заказ" class="button">
                    </div>
                </div>
            </form>
            <div class="empty-cart">
                <p>
                    В корзине пока ничего нет, но вы можете
                </p>
                <div class="empty-cart-actions">
                    <div style="background: linear-gradient(
                            rgba(0, 0, 0, 0.4), 
                            rgba(0, 0, 0, 0.4)
                        ),
                        url('images/choseCake.png')"
                    >
                        <span>Выбрать готовый торт</span>
                    </div>
                    <div style="background: linear-gradient(
                            rgba(0, 0, 0, 0.4), 
                            rgba(0, 0, 0, 0.4)
                        ), 
                        url('images/cakeAssembly.png')"
                    >
                        <span>Создать свой торт</span>
                    </div>
                </div>
            </div>
        </main>
        <!-- footer -->
        <script>
            let clearCartButton = document.getElementById('clearCart');
            let popup = document.querySelector('.popup-wrapper');
            let closePopup = document.getElementById('closePopup');

            clearCartButton.onclick = () => {
                document.body.style.height = '100vh';
                document.body.style.overflowY = 'hidden';
                popup.style.display = 'flex';
            }

            closePopup.onclick = () => {
                document.body.style.height = 'auto';
                document.body.style.overflowY = 'auto';
                popup.style.display = 'none';
            }

            // increase | decrease amounts
            let increaseAmount = document.querySelectorAll('.plus');
            let decreaseAmount = document.querySelectorAll('.minus');
            let pieceAmount    = document.querySelectorAll('.piece-amount');

            increaseAmount.forEach((item, index) => {
                item.onclick = () => {
                    console.log(item);
                    console.log(pieceAmount[index]);
                    pieceAmount[index].value = Number(pieceAmount[index].value) + 1;
                }
            });

            decreaseAmount.forEach((item, index) => {
                item.onclick = () => {
                    if ( pieceAmount[index].value > 1 ) pieceAmount[index].value = Number(pieceAmount[index].value) - 1;
                }
            });
        </script>
    </div>
</body>
</html>